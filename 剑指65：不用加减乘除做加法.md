# 剑指65：不用加减乘除做加法

## 题目

> 写一个函数，求两个整数之和，要求在函数体内不得使用 “+”、“-”、“*”、“/” 四则运算符号。
>
>  
>
> 示例:
>
> ```
> 输入: a = 1, b = 1
> 输出: 2
> ```
>
> 
>
>
> 提示：
>
> - a, b 均可能是负数或 0
> - 结果不会溢出 32 位整数
>
> 
>
> 链接：https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof

## 题解

<img src="https://pic.leetcode-cn.com/56d56524d8d2b1318f78e209fffe0e266f97631178f6bfd627db85fcd2503205-Picture1.png" style="zoom: 50%;" />

- ^ 亦或 ----相当于 无进位的求和
- & 与 ----相当于求每位的进位数

这样公式就是：（a^b) ^ ((a&b)<<1) 即：每次无进位求 + 每次得到的进位数--------我们需要不断重复这个过程，直到进位数为0为止。

```c++
class Solution {
public:
    int add(int a, int b) {
        //因为不允许用+号，所以求出异或部分和进位部分依然不能用+号，所以只能循环到没有进位为止        
        while(b != 0) {
            //保存进位值，下次循环用
            int c = (unsigned int)(a & b) << 1;//lc中负数不支持左移位，因为结果是不定的
            //保存不进位值，下次循环用，
            a ^= b;
            //如果还有进位，再循环，如果没有，则直接输出没有进位部分即可。
            b = c;   
        }
        return a;
    }
};
```

